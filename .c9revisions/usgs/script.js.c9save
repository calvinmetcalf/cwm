{"ts":1352384566623,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var m= L.map('map').setView([42.2, -71], 8);\r\nnew L.Hash(m);\r\nvar mapQuestAttr = 'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ';\r\nvar osmDataAttr = 'Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\r\nvar mopt = {\r\n    url: 'http://otile{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.jpeg',\r\n    options: {attribution:mapQuestAttr + osmDataAttr, subdomains:'1234'}\r\n  };\r\nvar osm = L.tileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",{attribution:osmDataAttr});\r\nvar mq=L.tileLayer(mopt.url,mopt.options);\r\nvar house = L.geoJson('',{onEachFeature:hpopUp, style: hstyle});\r\nvar senate = L.geoJson('',{onEachFeature:spopUp, style: sstyle});\r\nmq.addTo(m);\r\n\r\n  var baseMaps = {\r\n    \"Map Quest\": mq,\r\n    \"Open Street Map\":osm\r\n  \r\n};\r\n\r\nvar overlayMaps = {\r\n\"State House\":house,\r\n\"State Senate\":senate\r\n};\r\nvar lc=L.control.layers(baseMaps, overlayMaps);\r\nlc.addTo(m);\r\n\r\n$.get(\"house.json\",function(d){house.addData(d);},\"JSON\");\r\n$.get(\"senate.json\",function(d){senate.addData(d);},\"JSON\");\r\nfunction hpopUp(f,l){\r\n    var out = [];\r\n    if (f.properties){\r\n        for(key in f.properties){\r\n            if(key !== \"Shape_Area\" && key !== \"ORIG_FID\"){\r\n                out.push(key+\": \"+f.properties[key]);\r\n            }\r\n        }\r\n        l.bindPopup(out.join(\"<br />\"));\r\n    }\r\n}\r\nfunction spopUp(f,l){\r\n    var out = [];\r\n    if (f.properties){\r\n        for(var key in f.properties){\r\n            if(key !== \"Shape_Area\" && key !== \"Shape_Length\" && key !== \"OBJECTID\"){\r\n                out.push(key+\": \"+f.properties[key]);\r\n            }\r\n        }\r\n        l.bindPopup(out.join(\"<br />\"));\r\n    }\r\n}\r\nfunction sstyle(feature) {\r\n    var opt={weight:1,color:\"#000000\"}\r\n        switch (feature.properties.Party) {\r\n            case 'R':  opt.fillColor = \"#ff0000\";return opt;\r\n            case 'D':    opt.fillColor = \"#0000ff\";return opt;\r\n        }\r\n    }\r\nfunction hstyle(feature) {\r\n    var opt={weight:1,color:\"#000000\"}\r\n        switch (feature.properties.Party) {\r\n            case 'REPUBLICAN':  opt.fillColor = \"#ff0000\";return opt;\r\n            case 'DEMOCRATIC':    opt.fillColor = \"#0000ff\";return opt;\r\n        }\r\n    }"]],"start1":0,"start2":0,"length1":0,"length2":2226}]],"length":2226}
{"contributors":[],"silentsave":false,"ts":1352384802259,"patch":[[{"diffs":[[0,");\r\n"],[-1,"\r\n  var baseMaps = {\r\n    \"Map Quest\": mq,\r\n    \"Open Street Map\":osm\r\n  \r\n};\r\n\r\nvar overlayMaps = {\r\n\"State House\":house,\r\n\"State Senate\":senate\r\n};\r\nvar lc=L.control.layers(baseMaps, overlayMaps);\r\nlc.addTo(m);\r\n\r\n$.get(\"house.json\",function(d){house.addData(d);},\"JSON\");\r\n$.get(\"senate.json\",function(d){senate.addData(d);},\"JSON\");\r\nfunction hpopUp(f,l){\r\n    var out = [];\r\n    if (f.properties){\r\n        for(key in f.properties){\r\n            if(key !== \"Shape_Area\" && key !== \"ORIG_FID\"){\r\n                out.push(key+\": \"+f.properties[key]);\r\n            }\r\n        }\r\n        l.bindPopup(out.join(\"<br />\"));\r\n    }\r\n}\r\nfunction spopUp(f,l){\r\n    var out = [];\r\n    if (f.properties){\r\n   "],[1,"var usgs = L.tileLayer.wms(\"http://raster.nationalmap.gov/ArcGIS/services/TNM_Large_Scale_Imagery_Overlay/MapServer/WMSServer\",{layers: '0,1',\r\n"],[0,"    "],[-1," "],[0,"for"],[-1,"(var key in f.properties){\r\n            if(key !== \"Shape_Area\" && key !== \"Shape_Length\" && key !== \"OBJECTID\"){\r\n                out.push(key+\": \"+f.properties[key]);\r\n            }\r\n        }\r\n        l.bindPopup(out.join(\"<br />\"));\r\n    }\r\n}\r\nfunction sstyle(feature) {\r\n    var opt={weight:1,color:\"#000000\"}\r\n        switch (feature.properties.Party) {\r\n            case 'R':  opt.fillColor = \"#ff0000\";return opt;\r\n            case 'D':    opt.fillColor = \"#0000ff\";return opt;\r\n        }\r\n    }\r\nfunction hstyle(feature) {\r\n    var opt={weight:1,color:\"#000000\"}\r\n        switch (feature.properties.Party) {\r\n            case 'REPUBLICAN':  opt.fillColor = \"#ff0000\";return opt;\r\n            case 'DEMOCRATIC':    opt.fillColor = \"#0000ff\";return opt;\r\n        }\r\n    }"],[1,"mat: 'image/png',\r\n    transparent: true});\r\n  var baseMaps = {\r\n    \"Map Quest\": mq,\r\n    \"Open Street Map\":osm,\r\n  \"usgs\":usgs\r\n};\r\n\r\nvar lc=L.control.layers(baseMaps);\r\nlc.addTo(m);\r\n\r\n"]],"start1":734,"start2":734,"length1":1492,"length2":343}]],"length":1077,"saved":false}
{"ts":1352384834311,"patch":[[{"diffs":[[0,");\r\n"],[-1,"var house = L.geoJson('',{onEachFeature:hpopUp, style: hstyle});\r\nvar senate = L.geoJson('',{onEachFeature:spopUp, style: sstyle});"],[0,"\r\nmq"]],"start1":587,"start2":587,"length1":139,"length2":8}]],"length":946,"saved":false}
